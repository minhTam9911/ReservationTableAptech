<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/customer}" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <title>Home Page</title>
    <style>
        /* CSS để tùy chỉnh giao diện của công cụ tìm kiếm */
        .search-container {
            margin-top: 20px;
            text-align: center;
        }

        .search-container input[type=text] {
            padding: 10px;
            width: 50%;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        .search-container select {
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #ccc;
        }

        .search-container button {
            padding: 10px 20px;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }

        .search-container button:hover {
            background-color: #45a049;
        }
    </style>
</head>
<body>

<section layout:fragment="content">
    <!--================Banner Area =================-->
    <section class="banner_area">
        <div class="booking_table d_flex align-items-center">
            <div class="overlay bg-parallax" data-stellar-ratio="0.9" data-stellar-vertical-offset="0" data-background=""></div>
            <div class="container">
                <div class="banner_content text-center">
                    <h6>Book Your Table Now for an Unforgettable Dining Experience.
                    </h6>
                    <h2>Fast and convenient</h2>
                    <p>Connecting people to people
                        <br>
                        We look forward to serving you!
                    </p>
                    <a href="#" class="btn theme_btn button_hover">Get Started</a>
                </div>
            </div>
        </div>
        <div class="hotel_booking_area position">
            <div class="container">
                <div class="hotel_booking_table">
                    <div class="col-md-3">
                        <h2>Book<br> Your Room</h2>
                    </div>
                    <div class="col-md-9">
                        <div class="boking_table">
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="book_tabel_item">
                                        <div class="form-group">
                                            <div class='input-group date' id='datetimepicker11'>
                                                <input type='text' class="form-control" placeholder="Arrival Date"/>
                                                <span class="input-group-addon">
                                                        <i class="fa fa-calendar" aria-hidden="true"></i>
                                                    </span>
                                            </div>
                                        </div>
                                        <div class="form-group">
                                            <div class='input-group date' id='datetimepicker1'>
                                                <input type='text' class="form-control" placeholder="Departure Date"/>
                                                <span class="input-group-addon">
                                                        <i class="fa fa-calendar" aria-hidden="true"></i>
                                                    </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="book_tabel_item">
                                        <div class="input-group">
                                            <select class="wide">
                                                <option data-display="Adult">Adult</option>
                                                <option value="1">Old</option>
                                                <option value="2">Younger</option>
                                                <option value="3">Potato</option>
                                            </select>
                                        </div>
                                        <div class="input-group">
                                            <select class="wide">
                                                <option data-display="Child">Child</option>
                                                <option value="1">Child</option>
                                                <option value="2">Baby</option>
                                                <option value="3">Child</option>
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="book_tabel_item">
                                        <div class="input-group">
                                            <select class="wide">
                                                <option data-display="Child">Number of Rooms</option>
                                                <option value="1">Room 01</option>
                                                <option value="2">Room 02</option>
                                                <option value="3">Room 03</option>
                                            </select>
                                        </div>
                                        <a class="book_now_btn button_hover" href="#">Book Now</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--================Banner Area =================-->

    <!--================ Accomodation Area  =================-->
    <section class="accomodation_area section_gap">
        <div class="container">
            <section class="search-container">
                <input type="text" id="searchInput" placeholder="Search by area...">
                <select id="categorySelect">
                    <option value="">All Categories</option>
                    <option value="restaurant">Restaurant</option>
                    <option value="hotel">Hotel</option>
                    <!-- Thêm các lựa chọn khác nếu cần -->
                </select>
                <input type="number" id="priceMin" placeholder="Min price">
                <input type="number" id="priceMax" placeholder="Max price">
                <button onclick="search()">Search</button>
            </section>
            <section id="searchResults">
                <!-- Kết quả tìm kiếm sẽ được hiển thị ở đây -->
            </section>
        </div>
        <div class="container">
            <div class="section_title text-center">
                <h2 class="title_color">All Dinner Types</h2>
                <p>Various types of tables can be placed</p>
            </div>
            <div class="row mb_30">
                <!-- Lặp qua danh sách các loại bàn ăn và hiển thị hình ảnh đầu tiên của mỗi loại -->
                <div th:each="type : ${dinnerTableTypes}" class="col-lg-3 col-sm-6">
                    <div class="accomodation_item text-center">
                        <div class="home_img">
                            <!-- Sử dụng th:src để hiển thị hình ảnh đầu tiên của mỗi loại -->
                            <img th:src="@{/uploads/dinnerTables/{imageName}(imageName=${typeImagesMap[type.id]})}" alt="Image">
                            <a href="#" class="btn theme_btn button_hover">Book Now</a>
                        </div>
                        <a href="#"><h4 class="sec_h4" th:text="${type.type}"></h4></a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!--================ Accomodation Area  =================-->

    <!--================ Facilities Area  =================-->
    <section class="facilities_area section_gap">
        <div class="overlay bg-parallax" data-stellar-ratio="0.8" data-stellar-vertical-offset="0" data-background="">
        </div>
        <div class="container">
            <div class="section_title text-center">
                <h2 class="title_w">Royal Facilities</h2>
                <p>Who are in extremely love with eco friendly system.</p>
            </div>
            <div class="row mb_30">
                <div class="col-lg-4 col-md-6">
                    <div class="facilities_item">
                        <h4 class="sec_h4"><i class="lnr lnr-dinner"></i>Restaurant</h4>
                        <p>Usage of the Internet is becoming more common due to rapid advancement of technology and power.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="facilities_item">
                        <h4 class="sec_h4"><i class="lnr lnr-bicycle"></i>Sports CLub</h4>
                        <p>Usage of the Internet is becoming more common due to rapid advancement of technology and power.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="facilities_item">
                        <h4 class="sec_h4"><i class="lnr lnr-shirt"></i>Swimming Pool</h4>
                        <p>Usage of the Internet is becoming more common due to rapid advancement of technology and power.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="facilities_item">
                        <h4 class="sec_h4"><i class="lnr lnr-car"></i>Rent a Car</h4>
                        <p>Usage of the Internet is becoming more common due to rapid advancement of technology and power.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="facilities_item">
                        <h4 class="sec_h4"><i class="lnr lnr-construction"></i>Gymnesium</h4>
                        <p>Usage of the Internet is becoming more common due to rapid advancement of technology and power.</p>
                    </div>
                </div>
                <div class="col-lg-4 col-md-6">
                    <div class="facilities_item">
                        <h4 class="sec_h4"><i class="lnr lnr-coffee-cup"></i>Bar</h4>
                        <p>Usage of the Internet is becoming more common due to rapid advancement of technology and power.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!--================ Facilities Area  =================-->



    <script>
 function search() {
    var searchTerm = document.getElementById("searchInput").value;
    var category = document.getElementById("categorySelect").value;
    var minPrice = document.getElementById("priceMin").value;
    var maxPrice = document.getElementById("priceMax").value;

    // Gửi yêu cầu tìm kiếm đến máy chủ
    var xhr = new XMLHttpRequest();
    var url = "/search?term=" + searchTerm + "&category=" + category + "&minPrice=" + minPrice + "&maxPrice=" + maxPrice;
    xhr.open("GET", url, true);
    xhr.onreadystatechange = function() {
        if (xhr.readyState == 4 && xhr.status == 200) {
            var searchResults = JSON.parse(xhr.responseText);
            displayResults(searchResults);
        }
    };
    xhr.send();
}

function displayResults(results) {
    var searchResultsSection = document.getElementById("searchResults");
    searchResultsSection.innerHTML = ""; // Xóa nội dung cũ

    // Hiển thị kết quả tìm kiếm
    results.forEach(function(result) {
        var resultElement = document.createElement("div");
        resultElement.textContent = result.name + " - " + result.area + " - " + result.category + " - $" + result.price;
        searchResultsSection.appendChild(resultElement);
    });
}

</script>
</section>

</body>
</html>
