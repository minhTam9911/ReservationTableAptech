<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      layout:decorate="~{layout/customer}" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">
<head>
    <title>Invoice Page</title>
    <style>

        .invoice-header {
            text-align: center;
            margin-bottom: 20px;
        }
        .invoice-table {
            width: 100%;
            border-collapse: collapse;
        }
        .invoice-table th,
        .invoice-table td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .invoice-table th {
            background-color: #f2f2f2;
        }
        .invoice-table tr:hover {
            background-color: #f9f9f9;
        }
        .invoice-total {
            margin-top: 20px;
            padding-top: 10px;
            border-top: 2px solid #ddd;
            font-weight: bold;
        }
    </style>
</head>
<body>

<section layout:fragment="content">
	<link rel="stylesheet"
		href="https://cdnjs.cloudflare.com/ajax/libs/limonte-sweetalert2/11.7.27/sweetalert2.min.css">
    <!-- Breadcrumb Area -->
    <section class="breadcrumb_area">
        <div class="overlay bg-parallax" data-stellar-ratio="0.8" data-stellar-vertical-offset="0"
             data-background=""></div>
        <div class="container">
            <div class="page-cover text-center">
                <h2 class="page-cover-tittle">Your History Transaction</h2>
                <ol class="breadcrumb">
                    <li><a th:href="@{/customer/home}">Home</a></li>
                    <li class="active">Invoice</li>
                </ol>
            </div>
        </div>
    </section>
    <!-- End Breadcrumb Area -->
   
    <link rel="canonical" href="https://codepen.io/corbpie/pen/YzpyGpp">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
          crossorigin="anonymous" referrerpolicy="no-referrer"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  
  
<style>
:root {
  --breakpoint-xs: 0;
  --breakpoint-sm: 576px;
  --breakpoint-md: 768px;
  --breakpoint-lg: 992px;
  --breakpoint-xl: 1200px;
  --font-family-sans-serif: -apple-system, BlinkMacSystemFont, "Segoe UI",
    Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif,
    "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  --font-family-monospace: SFMono-Regular, Menlo, Monaco, Consolas,
    "Liberation Mono", "Courier New", monospace;
}
*,
::after,
::before {
  box-sizing: border-box;
}
html {
  font-family: sans-serif;
  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -webkit-tap-highlight-color: transparent;
}
body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto,
    "Helvetica Neue", Arial, "Noto Sans", sans-serif, "Apple Color Emoji",
    "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji";
  font-size: 1rem;
  font-weight: 400;
  line-height: 1.5;
  color: #212529;
  text-align: left;
  background-color: #fff;
}
[tabindex="-1"]:focus:not(:focus-visible) {
  outline: 0 !important;
}
table {
  border-collapse: collapse;
}
th {
  text-align: inherit;
  text-align: -webkit-match-parent;
}
[type="button"]:not(:disabled),
[type="reset"]:not(:disabled),
[type="submit"]:not(:disabled),
button:not(:disabled) {
  cursor: pointer;
}
::-webkit-file-upload-button {
  font: inherit;
  -webkit-appearance: button;
}
.container {
  width: 100%;
  padding-right: 15px;
  padding-left: 15px;
  margin-right: auto;
  margin-left: auto;
}
@media (min-width: 576px) {
  .container {
    max-width: 540px;
  }
}
@media (min-width: 768px) {
  .container {
    max-width: 720px;
  }
}
@media (min-width: 992px) {
  .container {
    max-width: 960px;
  }
}
@media (min-width: 1200px) {
  .container {
    max-width: 1140px;
  }
}
.row {
  display: -ms-flexbox;
  display: flex;
  -ms-flex-wrap: wrap;
  flex-wrap: wrap;
  margin-right: -15px;
  margin-left: -15px;
}
.col-12 {
  position: relative;
  width: 100%;
  padding-right: 15px;
  padding-left: 15px;
}
.col-12 {
  -ms-flex: 0 0 100%;
  flex: 0 0 100%;
  max-width: 100%;
}
.table {
  width: 100%;
  margin-bottom: 1rem;
  color: #212529;
}
.table td,
.table th {
  padding: 0.75rem;
  vertical-align: top;
  border-top: 1px solid #dee2e6;
  text-align: center;
}
.table thead th {
  vertical-align: bottom;
  border-bottom: 2px solid #dee2e6;
}
.table-hover tbody tr:hover {
  color: #212529;
  background-color: rgba(0, 0, 0, 0.075);
}
.custom-control-input:focus:not(:checked) ~ .custom-control-label::before {
  border-color: #80bdff;
}
.custom-control-input:not(:disabled):active ~ .custom-control-label::before {
  color: #fff;
  background-color: #b3d7ff;
  border-color: #b3d7ff;
}
.card {
  position: relative;
  display: -ms-flexbox;
  display: flex;
  -ms-flex-direction: column;
  flex-direction: column;
  min-width: 0;
  word-wrap: break-word;
  background-color: #fff;
  background-clip: border-box;
  border: 1px solid rgba(0, 0, 0, 0.125);
  border-radius: 0.25rem;
}
.close:not(:disabled):not(.disabled):focus,
.close:not(:disabled):not(.disabled):hover {
  opacity: 0.75;
}
@supports ((position: -webkit-sticky) or (position: sticky)) {
}
@media print {
  *,
  ::after,
  ::before {
    text-shadow: none !important;
    box-shadow: none !important;
  }
  thead {
    display: table-header-group;
  }
  tr {
    page-break-inside: avoid;
  }
  @page {
    size: a3;
  }
  body {
    min-width: 992px !important;
  }
  .container {
    min-width: 992px !important;
  }
  .table {
    border-collapse: collapse !important;
  }
  .table td,
  .table th {
    background-color: #fff !important;
  }
}

body {
  background-color: #f4f4f4;
}

.dot-success {
  color: #52d986;
}

.dot-success::before {
  background-color: #52d986;
}

.dot-error {
  color: #d9527d;
}

.dot-error::before {
  background-color: #d9527d;
}

.dot-notice {
  color: #d9c352;
}

.dot-notice::before {
  background-color: #d9c352;
}

.table {
  margin-bottom: 0;
}
.table-hover tbody tr:hover {
  background-color: rgba(0, 0, 0, 0.02);
}

.currency {
  color: grey;
  font-size: 85%;
  padding-left: 0.2rem;
}
.overdue-row {
  background: #ff00000a;
}
</style>

  
	  <div class="container" style="margin-top: 40px;">
            <div class="section_title text-center">
                <h2 class="title_color">All Dinner Types</h2>
                <p>Various types of tables can be placed</p>
            </div>
            </div>
  <div class="container" style="margin-top: 30px; margin-bottom: 60px;">
    <div class="row">
      <div class="col-12">
        <div class="card" style="margin-bottom: 40px;">
          <table class="table table-hover" id="myTable" >
            <thead>
              <tr>
                <th>Invoice</th>
                <th>Date</th>
                <th>Restaurant</th>
                <th>Total</th>
                <th>Status</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody>
				<th:block th:each=" i : ${data}">
					 <tr class="overdue-row">
                <td th:text="${i.idInvoice}"></td>
                <td th:text="${i.created}"></td>
                <td th:text="${i.restaurant}"></td>
                <td th:text="${i.amount}"><span class="currency">VND</span></td>
              
                <td>  <th:block th:if="${i.status=='Reserved'}">  
					<a h:attr="onclick=${'confirmDelete(''/customer/invoice/cancel/+i.idInvoice+''')'}" class="btn btn-danger">Cancel</a>
					</th:block>
					<th:block th:unless="${i.status=='Reserved'}"> 
                  <div class="dot-sucees"><span th:text="${i.status}"></span></div>
					</th:block>
                </td>
                <td>
					<a th:href="@{/customer/invoice/detail/{id}(id=${i.idInvoice})}">Detail</a>
				</td>
              </tr>
				</th:block>
             
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>

	<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
	<script>
		function confirmDelete(string) {
			const swalWithBootstrapButtons = Swal.mixin({
				customClass: {
					confirmButton: "btn btn-success",
					cancelButton: "btn btn-danger"
				},
				buttonsStyling: false
			});
			// Gọi hộp thoại xác nhận xóa của SweetAlert
			swalWithBootstrapButtons.fire({
				title: "Are you sure?",
				text: "You won't be able to revert this!",
				icon: "warning",
				showCancelButton: true,
				confirmButtonText: "Yes, delete it!",
				cancelButtonText: "No, cancel!",
				reverseButtons: true
			}).then((result) => {
				if (result.isConfirmed) {
					// Nếu người dùng xác nhận xóa, chuyển hướng đến URL xóa
					window.location.href =  string ;
				}
				 else if (result.dismiss === Swal.DismissReason.cancel) {
				swalWithBootstrapButtons.fire({
				title: "Cancelled",
				text: "Your imaginary file is safe :)",
				icon: "error"
				});
			}
		});
		}

	</script>
</section>

</body>
</html>
